{"resourceType":"StructureDefinition","id":"HpiLocation","meta":{"versionId":"33","lastUpdated":"2020-02-24T20:50:44.577+00:00"},"extension":[{"url":"http://clinfhir.com/StructureDefinition/userEmail","valueString":"david.hay25@gmail.com"},{"url":"http://clinfhir.com/fhir/StructureDefinition/baseTypeForModel","valueString":"Location"},{"url":"http://clinfhir.com/fhir/StructureDefinition/editor","valueString":"david.hay25@gmail.com"}],"url":"http://home.clinfhir.com:8054/baseR4/StructureDefinition/HpiLocation","identifier":[{"system":"http://clinfhir.com","value":"author"}],"name":"HpiLocation","status":"draft","date":"2020-02-25T09:50:25+13:00","purpose":"The Location resource used by the HPI service","keyword":[{"system":"http://fhir.hl7.org.nz/NamingSystem/application","code":"clinfhir"}],"kind":"logical","abstract":false,"type":"HpiLocation","baseDefinition":"http://hl7.org/fhir/StructureDefinition/Element","derivation":"specialization","snapshot":{"element":[{"id":"HpiLocation","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"A facility is a place that:\n•\thas a physically identifiable and verifiable location at which a health care service is delivered \n•\thas a defined set of supported services\n•\tis operated by a provider organisation\n•\tmay be specified in an Agreement\n•\tmay need to be licensed by a Licensing Body, the formal status of which is provided by the regulatory body responsible for overseeing the Facility"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation","label":"HpiLocation","definition":"A place where healthcare services are provided.","min":1,"max":"1","base":{"path":"HpiLocation","min":0,"max":"1"}},{"id":"HpiLocation.HpiFacility","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"Only the HPI System generates new HPI-FacilityIDs.  They are used as the identifier for facilities in health transactions and health records. Any location where healthcare services are regularly delivered will have an HPI-FacilityID. \n\nThey are not re-used once assigned. Where more than one number exists for a single facility, one number is declared ‘live’ and all other numbers are made ‘dormant’ and attached to the live record. Dormant numbers exist because a duplicate was created in error. \n\nEvery facility has a managing organisation. The HPI-FacilityID does not change when a facility changes owners, only the facility's managing organisation will change.  However if a change of ownership results in a substantial change to the services provided then a new HPI-FacilityID maybe issued.  \n\nThe HPI-FacilityID has a format FXXNNN-C where \n'F' is a constant prefix - all HPI-FacilityIDs start with 'F;\n'X' is either a letter of a number\n'N' is a number\n'C' is a check digit  calculated using check digit Modulus 11"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.hpiFacilityID","label":"hpiFacilityID","short":"HpiFacility","definition":"The HPI FacilityID is a unique 8 character identifier assigned by the HPI system to an individual facility.","min":1,"max":"1","base":{"path":"HpiLocation.hpiFacilityID","min":0,"max":"1"},"type":[{"code":"Identifier"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"Location.identifier|"}]},{"id":"HpiLocation.dormantFaciltyCode","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"DormantFacilityId is an identifier with use=old"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.dormantFaciltyId","label":"dormantFaciltyId","short":"dormantFaciltyId","definition":"Other HPI-FacilityIDs assigned to this location by mistake in the past","min":0,"max":"*","base":{"path":"HpiLocation.dormantFaciltyId","min":0,"max":"1"},"type":[{"code":"Identifier"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"Location.identifier|"}]},{"id":"HpiLocation.identifier","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"The Ministry of Health facility code is a legacy 4 character code that has been assigned to facilities since before the HPI came into existence. It is used in many of the older national collections eg NMDS and NNPAC. Newer national systems like PRIMHD and NES only use HPI identifiers. \n\nUse the system to identify the kind of identifier. Identifier systems are found here. http://standards.digital.health.nz/"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.otherIdentifier","label":"otherIdentifier","short":"Unique code or number identifying the location to its users","definition":"Identifiers assigned to health facilities by a system other than the HPI.  These are unique within their source system.","min":0,"max":"*","base":{"path":"HpiLocation.otherIdentifier","min":0,"max":"1"},"type":[{"code":"Identifier"}],"mapping":[{"identity":"fhir","map":"Location.identifier|"}]},{"id":"HpiLocation.status","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"Use the status or the establishment period to determine if the facility is still in operation."},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.status","label":"status","short":"active | suspended | inactive","definition":"Indicates if the facility is no longer operating.","min":0,"max":"1","base":{"path":"HpiLocation.status","min":0,"max":"1"},"type":[{"code":"code"}],"binding":{"strength":"required","valueSet":"http://hl7.org/fhir/ValueSet/location-status"},"mapping":[{"identity":"fhir","map":"Location.status|"}]},{"id":"HpiLocation.name","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/usageGuideUrl","valueString":"Other names for the facility maybe held in the alias names"},{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"Question: does this need to be one to many? Assume no - should use alias"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.name","label":"name","short":"Name of the location as used by humans","definition":"Name of the location as recognized by healthcare service users. May not be unique.","min":1,"max":"1","base":{"path":"HpiLocation.name","min":0,"max":"1"},"type":[{"code":"string"}],"mapping":[{"identity":"fhir","map":"Location.name|"}]},{"id":"HpiLocation.alias","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"Would we use alias instead of multiple names. Likely need set of name types (as per current):\nMaori\nLegal\nAbbreviated\nTrading As (applies to organisation)\nFormer\naka"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.alias","label":"alias","short":"A list of alternate names that the location is known as, or was known as in the past","definition":"A list of alternate names that the location is known as, or was known as in the past.","min":0,"max":"*","base":{"path":"HpiLocation.alias","min":0,"max":"1"},"type":[{"code":"string"}],"mapping":[{"identity":"fhir","map":"Location.alias|"}]},{"id":"HpiLocation.alias.aliasType","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/simpleExtensionUrl","valueString":"http://hl7.org.nz/fhir/StructureDefinition/location-alias-type"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.alias.type","label":"type","short":"aliasType","definition":"Indicates the type of alias name","comment":"This is an extension on alias. Note that the representation in json is an array with the name _alias that has the extension values in the same order as the array of aliases...","min":0,"max":"1","base":{"path":"HpiLocation.alias.type","min":0,"max":"1"},"type":[{"code":"CodeableConcept"}],"mustSupport":false,"binding":{"strength":"preferred","valueSet":"http://standards.digital.health.nz/fhir/ValueSet/location-alias-type"},"mapping":[{"identity":"fhir","map":"extension|"}]},{"id":"HpiLocation.description","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"Not currently available. Would need rules about what / how it is used. Could leave in as possibly useful? Ask Graeme"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.description","label":"description","short":"Additional details about the location that could be displayed as further information to identify the location beyond its name","definition":"Description of the Location, which helps in finding or referencing the place.","min":0,"max":"1","base":{"path":"HpiLocation.description","min":0,"max":"1"},"type":[{"code":"string"}],"mapping":[{"identity":"fhir","map":"Location.description|"}]},{"id":"HpiLocation.type","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"Similar to HPI facility type. Should the current types be mapped to the FHIRE values?"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.type","label":"type","short":"Type of function performed","definition":"Indicates the type of function performed at the location.","comment":"the existing HPI Facility Type codeset","min":0,"max":"1","base":{"path":"HpiLocation.type","min":0,"max":"1"},"type":[{"code":"CodeableConcept"}],"mustSupport":false,"binding":{"strength":"preferred","valueSet":"http://standards.digital.health.nz/fhir/ValueSet/facility-type"},"mapping":[{"identity":"fhir","map":"Location.type|"}]},{"id":"HpiLocation.telecom","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.telecom","label":"telecom","short":"Contact details of the location","definition":"The contact details of communication devices available at the location. This can include phone numbers, fax numbers, mobile numbers, email addresses and web sites.","min":0,"max":"*","base":{"path":"HpiLocation.telecom","min":0,"max":"1"},"type":[{"code":"ContactPoint"}],"mapping":[{"identity":"fhir","map":"Location.telecom|"}]},{"id":"HpiLocation.address","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.address","label":"address","short":"Physical location","definition":"Physical location.","min":1,"max":"1","base":{"path":"HpiLocation.address","min":0,"max":"1"},"type":[{"code":"Address"}],"mapping":[{"identity":"fhir","map":"Location.address|"}]},{"id":"HpiLocation.managingOrganization","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.managingOrganization","label":"managingOrganization","short":"Organization responsible for provisioning and upkeep","definition":"The organization responsible for the provisioning and upkeep of the location.","min":1,"max":"1","base":{"path":"HpiLocation.managingOrganization","min":0,"max":"1"},"type":[{"code":"Reference","targetProfile":["http://hl7.org/fhir/StructureDefinition/Organization"]}],"mapping":[{"identity":"fhir","map":"Location.managingOrganization|"}]},{"id":"HpiLocation.partOf","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.partOf","label":"partOf","short":"Another Location this one is physically part of","definition":"Another Location which this Location is physically part of.","min":0,"max":"1","base":{"path":"HpiLocation.partOf","min":0,"max":"1"},"type":[{"code":"Reference","targetProfile":["http://hl7.org/fhir/StructureDefinition/Location"]}],"mapping":[{"identity":"fhir","map":"Location.partOf|"}]},{"id":"HpiLocation.endpoint","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"Do we really have a location for this?"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.endpoint","label":"endpoint","short":"Technical endpoints providing access to services operated for the location","definition":"Technical endpoints providing access to services operated for the location.","min":0,"max":"*","base":{"path":"HpiLocation.endpoint","min":0,"max":"1"},"type":[{"code":"Reference","targetProfile":["http://hl7.org/fhir/StructureDefinition/Endpoint"]}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"Location.endpoint|"}]},{"id":"HpiLocation.established","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/simpleExtensionUrl","valueString":"http://hl7.org.nz/fhir/StructureDefinition/location-established"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.established","label":"established","short":"established","definition":"The period over which the location is open","comment":"It's a period rather than an 'opened date' as locations that are closed can be returned (I guess)","min":0,"max":"1","base":{"path":"HpiLocation.established","min":0,"max":"1"},"type":[{"code":"Period"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"Location.extension|"}]},{"id":"HpiLocation.DHB","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/simpleExtensionUrl","valueString":"http://hl7.org.nz/fhir/StructureDefinition/location-dhb"},{"url":"http://clinfhir.com/fhir/StructureDefinition/lmReviewReason","valueString":"needs to have a dHB valueset to bind to..."},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"review"}],"path":"HpiLocation.DHB","label":"DHB","short":"DHB","definition":"The District Health Board where this facility is located","min":0,"max":"1","base":{"path":"HpiLocation.DHB","min":0,"max":"1"},"type":[{"code":"CodeableConcept"}],"mustSupport":false,"binding":{"strength":"preferred","valueSet":"http://standards.digital.health.nz/fhir/ValueSet/dhb"},"mapping":[{"identity":"fhir","map":"Location.extension|"}]},{"id":"HpiLocation.nzGeoCode","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/simpleExtensionUrl","valueString":"http://hl7.org.nz/fhir/StructureDefinition/nzGeocode"},{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.nzGeoCode","label":"nzGeoCode","short":"nzGeoCode","definition":"The new zealand geocode. This uses a different datum from that defined in the spec for the geocode, so is an extension rather than using the element in the spec. see discussion at https://chat.fhir.org/#narrow/stream/179166-implementers/topic/geocode.20extension","min":0,"max":"1","base":{"path":"HpiLocation.nzGeoCode","min":0,"max":"1"},"type":[{"code":"BackboneElement"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"Location.extension|"}]},{"id":"HpiLocation.nzGeoCode.latitude","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.nzGeoCode.latitude","label":"latitude","short":"latitude","definition":"No description","min":1,"max":"1","base":{"path":"HpiLocation.nzGeoCode.latitude","min":0,"max":"1"},"type":[{"code":"decimal"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"#latitute|"}]},{"id":"HpiLocation.nzGeoCode.longitude","extension":[{"url":"http://clinfhir.com/fhir/StructureDefinition/edStatus","valueString":"included"}],"path":"HpiLocation.nzGeoCode.longitude","label":"longitude","short":"longitude","definition":"No description","min":1,"max":"1","base":{"path":"HpiLocation.nzGeoCode.longitude","min":0,"max":"1"},"type":[{"code":"decimal"}],"mustSupport":false,"mapping":[{"identity":"fhir","map":"#longitude|"}]}]}}